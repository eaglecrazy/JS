<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles/reset.css">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/chat.css">
    <link rel="stylesheet" href="styles/cart.css">
    <link rel="stylesheet" href="styles/form.css">
    <script defer src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script defer src="js/goodslist.js"></script>
    <!--    <script defer src="js/chat.js"></script>-->
    <script defer src="js/cart.js"></script>
    <!--    <script defer src="js/form.js"></script>-->
    <script defer src="js/main.js"></script>
    <title>eShop</title>
</head>

<body>
    <div id="app">
        <header class="header">
            <div class="menuLeft">
                <button class="button indexButton" @click="buttonIndexClick">Магазин</button>
                <button class="button formButton">Обратная связь</button>
            </div>
            <div class="menuRight">
                <form class="searchForm">
                    <input type="text" class="searchInput form-input" placeholder="" v-model="searchLine">
                    <button class="button searchButton" @click="buttonSearchClick">Поиск</button>
                </form>
                <button class="button cartButton" @click="buttonCartClick">Корзина</button>
            </div>
        </header>
        <main class="main">
            <div class="goods-list" v-if="isVisibleGoodsList">
                <div class="goods-item" v-for="good in filteredGoods">
                    <h3 class="goods-item-heading">{{ good.title }}</h3>
                    <img class="item-image" src="img/game.jpg" width="250" height="156" v-bind:alt="good.title">
                    <p class="goods-item-text">Цена: {{ good.price }} рублей</p>
                    <button class="button" v-bind:id="good.title" @click="productButtonClick">Добавить в корзину</button>
                </div>
                <div class="goods-list-info" v-if="fetchError">Ошибка получения данных.</div>
                <div class="goods-list-info" v-if="searchNone">Товаров не найдено.</div>
            </div>

            <div class="cart-wrapper" v-if="isVisibleCart">
                <div class="cart-items">
                    <div class="cart-item" v-for="good in cart">
                        <img class="item-image" src="img/game.jpg" width="250" height="156" v-bind:alt="good.title">
                        <div class="cart-item-info">
                            <h3 class="goods-item-heading">{{ good.title }}</h3>
                            <p class="goods-item-text cart-item-price">Цена: {{ good.price }} рублей.</p>
                            <input v-model="good.quantity" type="number" min="1" max="99" class="cart-item-quantity">
                        </div>
                        <svg class="cart-item-cross" viewBox="0 0 52 52" @click="cartCrossClick(good)">
                            <path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z" />
                            <path d="M35.707,16.293c-0.391-0.391-1.023-0.391-1.414,0L26,24.586l-8.293-8.293c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L24.586,26l-8.293,8.293c-0.391,0.391-0.391,1.023,0,1.414C16.488,35.902,16.744,36,17,36s0.512-0.098,0.707-0.293L26,27.414l8.293,8.293C34.488,35.902,34.744,36,35,36s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L27.414,26l8.293-8.293C36.098,17.316,36.098,16.684,35.707,16.293z" /></svg>
                    </div>
                </div>
                <div class="cart-info">
                    <span class="cart-info-text">Всего товаров:</span><span class="cart-info-text cart-info-quantity">{{ cartTotalQuantity }} шт.</span>
                    <span class="cart-info-text">Общая стоимость:</span><span class="cart-info-text cart-info-price">{{ cartTotalPrice }} руб.</span>
                    <button class="button cart-issue-button">Перейти к оформлению</button>
                </div>
            </div>
        </main>
    </div>
</body></html>
